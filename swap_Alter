import mysql.connector as mc
mydb = mc.connect(host="localhost",user='root',passwd='root',database='esports')
cur = mydb.cursor()
mydb.autocommit = True

def swap():
    print('''
How would you like to swap players?
1. Between Teams
2. From Reserve to Teams
''')
    Ch= int(input("Enter choice: "))
    if Ch == 1:
        xTag=int(input("Enter Tag of player to swap from Team 1: "))
        cur.execute(f'select * from team1 where Tag = {xTag}')
        for i in cur:
            xID= i[1]
            xRole= i[2]
            xScore= i[3]
        yTag=int(input("Enter Tag of player to swap from Team 2: "))
        cur.execute(f'select * from team2 where Tag = {yTag}')
        for j in cur:
            yID= j[1]
            yRole= j[2]
            yScore= j[3]

        q1 = f"Update team1 set Tag={yTag},Player_ID='{yID}',Role='{yRole}',Player_Score={yScore} where Tag = {xTag}"
        q2 = f"Update team2 set Tag={xTag},Player_ID='{xID}',Role='{xRole}',Player_Score={xScore} where Tag = {yTag}"
        cur.execute(q1)
        cur.execute(q2)
        print('Swap Successfull!')
    elif Ch == 2:
        T_Ch= int(input("Swap with Team (1 or 2)?: "))
        if T_Ch == 1:
            team= 'team1'
        elif T_Ch == 2:
            team= 'team2'
        else:
            print("Invalid Input")
        xTag=int(input('Enter Tag of player from team to swap: '))
        zTag=int(input('Enter Tag of reserve to swap: '))
        cur.execute(f"select * from information where Tag = {zTag}")
        for i in cur:
            zID= i[1]
            zRole= i[2]
            zScore= i[3]

        q1 = f"Update {team} set Tag={zTag},Player_ID='{zID}',Role='{zRole}',Player_Score={zScore} where Tag = {xTag}"
        cur.execute(q1)
        print('Swap successfull')
swap()